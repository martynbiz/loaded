"undefined"==typeof loaded&&(loaded={}),loaded.cache=function(){var e={},t=function(t){return e[t]},n=function(t,n){e[t]=n},o=function(){return e={}};return{get:t,insert:n,clean:o}}(),"undefined"==typeof loaded&&(loaded={}),loaded.ajax=function(){var e=function(e,t){switch(t.toUpperCase()){case"JSON":e=JSON.parse(e)}return e},t=function(t){if(t=loaded.utils.extend({success:function(){},cache:!1,method:"GET",dataType:"text",data:null},t),t.cache&&_Cache.get(t.url))return t.success(e(_Cache.get(t.url),t.dataType),t.dataType),!0;var n;if(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&(_Cache.insert(t.url,n.responseText,t.dataType),t.success(e(n.responseText,t.dataType)))},n.open(t.method.toUpperCase(),t.url,!0),"POST"===t.method.toUpperCase()){n.setRequestHeader("Content-type","application/x-www-form-urlencoded");var o=function(e){var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&")}(t.data);n.send(o)}else n.send()};return{options:{},fetch:t}}(),"undefined"==typeof loaded&&(loaded={}),loaded.dispatch=function(){function e(e){e&&(r=null,u=!1,$.ajax({url:e,method:"GET",dataType:"json"}).done(function(e){i(e),d()}))}var t={},n=null,o=!0,r=null,u=!0,a=function(e){n=e,o=!0},i=function(e){r=e,u=!0};_loadTemplate=function(e){e=c.templates_dir+e;var r=t[e];r?(a(r),d()):(n=null,o=!1,$.ajax({url:e,method:"GET"}).done(function(n){t[e]=n,a(n),d()}))};var d=function(){if(!o||!u)return!1;var e=Handlebars.compile(n),t=document.getElementById("content");t.innerHTML=e(r),_initLinks(t)},c={templates_dir:""},l=function(e){return c=loaded.utils.extend(c,e)},f=function(e){console.log("loaded notice: init function not set")},s=function(e){f=e};return{loadData:e,loadTemplate:_loadTemplate,init:function(e){f(e)},setInit:s,config:l}}(),"undefined"==typeof loaded&&(loaded={}),loaded.router=function(e){var t={},n=null,o="",r=function(e,n){if(!e)return void 0;"/"!=e&&"/"===e.substr(-1)&&(e=e.substr(0,e.length-1)),n||(n="GET");for(var o in t)if(result=u(e,n,t[o],o),result)return result},u=function(e,t,n,o,r,a){r||(r="");for(var i in n)if("/"===i.charAt(0))a=u(e,t,n[i],o,r+i,a);else{if(i!=t)continue;r.length>1&&(r=r.replace(/\/+$/,"")),r="^"+r+"$";var d=new RegExp(r),c=d.exec(e);c&&(c.shift(),a={},a.value=n[i],a.params=c,a.layout=o)}return a},a=function(e,t){return l(e,"GET",t)},i=function(e,t){return l(e,"POST",t)},d=function(e,t){return l(e,"PUT",t)},c=function(e,t){return l(e,"DELETE",t)},l=function(e,r,u){var e=o+e;t[n]=t[n]||{},t[n][e]=t[n][e]||{},t[n][e][r]=u},f=function(e,t){var o=n;n=e,t(),n=o},s=function(e,t){var n=o;o+=e,t(),o=n},p=function(e){return n},v=function(e){n=e},T=function(){return t};return{match:r,get:a,post:i,put:d,"delete":c,layout:f,group:s,setCurrentLayout:v,getCurrentLayout:p,getRoutes:T}}(),"undefined"==typeof loaded&&(loaded={}),loaded.utils=function(){var e=function(){for(var e={},t=0;t<arguments.length;t++)for(var n in arguments[t])e[n]=arguments[t][n];return e};return{extend:e}}();