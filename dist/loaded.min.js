"undefined"==typeof loaded&&(loaded={}),loaded.dispatch=function(){function n(n){n&&(o=null,r=!1,$.ajax({url:n,method:"GET",dataType:"json"}).done(function(n){i(n),l()}))}var t={},e=null,u=!0,o=null,r=!0,a=function(n){e=n,u=!0},i=function(n){o=n,r=!0};_loadTemplate=function(n){n=d.templates_dir+n;var o=t[n];o?(a(o),l()):(e=null,u=!1,$.ajax({url:n,method:"GET"}).done(function(e){t[n]=e,a(e),l()}))};var l=function(){if(!u||!r)return!1;var n=Handlebars.compile(e),t=document.getElementById("content");t.innerHTML=n(o),c(t)},d={templates_dir:""},f=function(n){return d=loaded.utils.extend(d,n)},c=function(n){console.log("loaded notice: init function not set")},s=function(n){c=n};return{loadData:n,loadTemplate:_loadTemplate,init:function(n){c(n)},setInit:s,config:f}}(),"undefined"==typeof loaded&&(loaded={}),loaded.router=function(n){var t={},e=null,u="",o=function(n,e){if(!n)return void 0;"/"!=n&&"/"===n.substr(-1)&&(n=n.substr(0,n.length-1)),e||(e="GET");for(var u in t)if(result=r(n,e,t[u],u),result)return result},r=function(n,t,e,u,o,a){o||(o="");for(var i in e)if("/"===i.charAt(0))a=r(n,t,e[i],u,o+i,a);else{if(i!=t)continue;o.length>1&&(o=o.replace(/\/+$/,"")),o="^"+o+"$";var l=new RegExp(o),d=l.exec(n);d&&(d.shift(),a={},a.value=e[i],a.params=d,a.layout=u)}return a},a=function(n,t){return f(n,"GET",t)},i=function(n,t){return f(n,"POST",t)},l=function(n,t){return f(n,"PUT",t)},d=function(n,t){return f(n,"DELETE",t)},f=function(n,o,r){var n=u+n;t[e]=t[e]||{},t[e][n]=t[e][n]||{},t[e][n][o]=r},c=function(n,t){var u=e;e=n,t(),e=u},s=function(n,t){var e=u;u+=n,t(),u=e},p=function(n){return e},v=function(n){e=n},m=function(){return t};return{match:o,get:a,post:i,put:l,"delete":d,layout:c,group:s,setCurrentLayout:v,getCurrentLayout:p,getRoutes:m}}(),"undefined"==typeof loaded&&(loaded={}),loaded.utils=function(){var n=function(){for(var n={},t=0;t<arguments.length;t++)for(var e in arguments[t])n[e]=arguments[t][e];return n};return{extend:n}}();